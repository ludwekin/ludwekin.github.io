---

title : "RTOS"

published : false

---

## 一个常见问题，好像有很多RTOS?





## 为什么需要 RTOS？
1. 先看一下 无人机飞控程序 组成：
    - 传感器数据处理
        - 加速度计
        - gyro
        - 气压计
        - GPS 
        - 光流传感器
        - 超声波传感器
        - 激光雷达
        - 摄像头
    - 数据处理
        - 去零漂移
        - 去温漂移
        - 卡尔曼滤波
    - 状态估计
    - 姿态计算
    - 地面站通信
    - 多重 PID 算法
    - 电机控制
    - 电源检/监测
    - 安全保护
    - 日志系统
2.  所以无人机飞控程序绝对不是 在mcu内用while编程 实现的。这样每个模块都耦合在一起，怎么维护？所以有没有调度办法，而且可以实现解耦呢？有的，那就是 RTOS。
3. 全世界使用量预估最大的 RTOS，应该就是 FreeRTOS。



FreeRTOS can be thought of as a thread library rather than an operating system, although command line interface and POSIX-like input/output (I/O) abstraction are available.

Using an RTOS has benefits even when the embedded system has no hard real-time requirement at all.



## 重要！FreeRTOS实现多线程的方式



### nuttx和 freertos区别？

POSIX 简单介绍

POSIX（Portable Operating System Interface）是一个操作系统接口标准，它定义了应用程序应该如何与操作系统交互，包括：
	•	任务/线程管理 (pthread_create, pthread_join)
	•	文件和目录操作 (open, read, write, close, mkdir)
	•	信号和定时器 (signal, timer_create)
	•	进程管理 (fork, exec)

POSIX 的目的是 让应用程序在不同操作系统之间可以更容易移植。


### 线程和进程区别？

	•	进程例子：打开 Chrome 浏览器，每个标签页可能是一个独立进程。
	•	线程例子：同一个标签页中，同时下载文件、播放视频、渲染页面，每个任务是一个线程。


A FreeRTOS application will start up and execute just like a non-RTOS application until vTaskStartScheduler() is called. vTaskStartScheduler() is normally called from the application's main() function. The RTOS only controls the execution sequencing after vTaskStartScheduler() has been called.
