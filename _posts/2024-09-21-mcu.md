---

title : "mcu"

published : true

---



1. Difference between SRAM and DRAM. And what is PSRAM?

    - SRAM stores data using flip-flops, does not require refreshing, is fast but expensive, and has small capacity.  
    - DRAM stores data using capacitors, requires periodic refreshing, has large capacity, and is cheaper.  
    - Example of SRAM: internal RAM in MCUs (e.g., 512KB SRAM in ESP32-S3).  
    - Example of DRAM: PC main memory (DDR3/DDR4/DDR5 are all DRAM).  
    - PSRAM (Pseudo-SRAM)**: Essentially DRAM + controller that mimics an SRAM interface, providing larger capacity while being easier to use.  

2. LVGL. It can be understood as a lightweight equivalent of **Qt** for embedded devices. It is a lightweight graphics framework.  


### I²S protocol

I²S (Inter-IC Sound) is a digital audio bus protocol used for transmitting audio data between chips.  

It was introduced by Philips in 1986 and is now widely used between audio codecs, DSPs, MCUs, Bluetooth chips, and amplifiers.  


### chips


#### TB6612

TB6612 is a low-cost motor driver board.  


### some basic info

Some protocols, such as SPI and I²C, may seem basic, but they offer a lot of depth to explore.  

#### SPI protocol:

    - Faster than I²C (MHz range or even tens of MHz).  
    - Hardware lines: 4 wires.  
    - Common use: MCU ↔ sensor communication.  
    - Supports one master and multiple slaves, with only 4 lines needed.  

#### UART protocol:

    - Universal Asynchronous Receiver/Transmitter.  
    - A serial communication protocol for point-to-point data transfer.  
    - Sends data bit by bit.  
    - Asynchronous: does not require a clock line.  
    - Lines: typically 2 (TX and RX).  
    - Supports full-duplex communication.  
    - UART TTL signals have weak noise immunity.  

#### RS232:

    - Defines voltage levels for logic. Logic "1" is -5V to -15V.  
    - Only supports point-to-point communication.  
    - Standard interface has 9 pins, but usually only 3 lines are used: TX, RX, GND.  

#### RS485:
    RS485
    - Uses differential signaling.  
    - Supports one master and multiple slaves.  
    - Can be used for networking.  

#### I²C:

    I²C
    - Supports one master and multiple slaves.  
    - Uses two wires: SCL and SDA.  
    - Slower compared to SPI.  
    - In practice (e.g., in PX4 flight controller projects), JST-GH connectors are used, and twisted-pair cabling improves noise immunity.  

#### CAN bus:
    CAN bus
    - Differential signaling, strong noise immunity.  
    - Low-speed CAN: -1.5V represents logic "1", 3V represents logic "0".  
    - Requires termination resistors to prevent signal reflections.  

By the way, relationship between Modbus** and CAN bus?

"Modbus can run over CAN bus. By analogy, Modbus is the 'language,' and CAN is the 'telephone line' carrying it."  











### Program Porting

How to port code written for ST MCUs to another MCU?  

In my conclusion, separate business logic from hardware-dependent code. Then replace or adapt the low-level API layer for the new MCU.  



### Common Circuits in PCB design

1. Reverse polarity protection circuit.  
2. Power source switching circuit.  
3. Crystal oscillator circuit.  









## MCU Peripherals

It's my conclusion, just take it easy.

1. Temperature Sensing Devices  
    - Thermocouples  
        - Type-K is the most widely used.  
        - Basic principle: Seebeck effect.  
        - In metals, there are a large number of free electrons (conduction electrons) that move freely within the crystal lattice, like an "electron gas."  
        - At the hot end of the metal, electrons gain more thermal energy, move faster on average, and have higher energy.  
        - As these electrons diffuse toward the cold end, the cold end gradually becomes negatively charged while the hot end becomes positively charged.  
        - This potential difference generates a thermoelectric voltage, which is the working principle of a thermocouple.  





### talking about SoC and 

Designing a SoC is hard.

In an SoC device, multiple powerful processor cores can be integrated.

An SoC is usually designed for a specific purpose.

Ok, let's talk about Xilinx SoC.

Xilinx All-Programmable SoC is a chip that has two main parts:
    - A processing system (PS), usually ARM cores.
    - Programmable logic (PL), which is FPGA fabric.

Both are on the same chip. The PS runs software. The PL can be programmed to do custom hardware tasks. This makes it possible to speed up heavy work, build special hardware, and still control everything with software.

What's the advantage of hardware acceleration of All-Programmable SoC?

All-Programmable SoCs achieve quicker processing by offloading parallelizable tasks to programmable logic.

[UG585](https://docs.amd.com/r/en-US/ug585-zynq-7000-SoC-TRM).